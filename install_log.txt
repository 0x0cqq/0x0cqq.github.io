install log

1.安装hexo
    $ hexo init <folder>
2.安装next
    $ git clone https://github.com/theme-next/hexo-theme-next themes/next
3.配置站点信息
    title: Hexo -> Chen's Blog
    subtitle: -> 记录时光与梦想
    description: -> Stay simple. Stay naïve.
    keywords: -> "博客", "chenqiqian", "Chen's Blog"
    author: -> Chen Qiqian
    language: -> zh-CN
    url: http://yoursite.com -> http://blog.chenqiqian.com
    permalink: :year/:month/:day/:title/ -> :year:month:day-:urlname/
    line_number: true -> false
    tab_replace: -> false
    filename_case: 0 ->1
4.配置部署信息：
    deploy:
    -> type: git
    -> repo: https://github.com/ChenQiqian/ChenQiqian.github.io.git
    -> branch: master
5.配置网站地图
    # Sitemap for searching engine
    sitemap:
      path: sitemap.xml
    baidusitemap:
      path: baidusitemap.xml
6.更改头像

+ theme/next/source/image/avater.jpg

6.更改favicon信息

favicon:
  small: /images/favicon-16x16-next.png
  medium: /images/favicon-32x32-next.png
  apple_touch_icon: /images/apple-touch-icon-next.png
  safari_pinned_tab: /images/logo.svg
  #android_manifest: /images/manifest.json
  #ms_browserconfig: /images/browserconfig.xml
| |
 ^
favicon:
  small: favicon-16x16.png
  medium: favicon-32x32.png
  apple_touch_icon: apple-touch-icon.png
  safari_pinned_tab: safari-pinned-tab.svg
  android_manifest: manifest.json
  ms_browserconfig: browserconfig.xml

加入文件
html_code.html
android-chrome-192x192.png
android-chrome-512x512.png
apple-touch-icon.png
manifest.json
browserconfig.xml
mstile-150x150.png
favicon-16x16.png		
favicon-32x32.png		
safari-pinned-tab.svg
favicon.ico


7. 
      #since: 2015 -> 2017
8.调整主题
-> genemi

9.侧边栏头像

-> avatar: /images/avatar.jpg

9:底边
->
 custom_text: Hosted by <a target="_blank" rel="external nofollow" href="https://pages.github.com"><b>Github Pages</b></a>

10.新建about

 $ hexo new page "about"
 修改/source/about/index.md
 menu:
    ->  about: /about/ || user

11.新建标签和分类页面
  $ hexo new page tags && hexo new page categories 
   -> tags: /tags/ || tags
   -> categories: /categories/ || categories
   修改md文件

12.添加links页面

+ links: /links/ || link
$ hexo new page links
修改 index.md
新建images/friends/并添加文件
在 language中新建 links

13.配置 algolia
    $ npm install --save hexo-algolia
    站点配置:
        algolia:
            applicationID: 'Application ID'
            apiKey: 'Search-only API key'
            indexName: 'indexName'
            chunkSize: 5000
    设置：
    $ export HEXO_ALGOLIA_INDEXING_KEY='ed06c5c8c68942b095dcfcb22cda7f56'
    $ cd themes/next
    $ git clone https://github.com/theme-next/theme-next-algolia-instant-search source/lib/algolia-instant-search
    主题配置文件：
        enable: false ->true

14. 配置gitalk

站点配置：
gitalk:
  enable: true
  ClientID: 5f341a60e20fc743f2bd #Client ID
  ClientSecret: 9cf2a0e2f35f5dcb83777eb8c9b56641ac735acb #Client Secret
  repo: comments
  owner: ChenQiqian
  admin: ChenQiqian # support multiple admins split with comma, e.g. foo,bar
  pagerDirection: first
  distractionFreeMode: false
  createIssueManually: false

layout/_partials/comments.swig

+ gitalk.swig

14.配置数学：
math:  
  enable: false -> true

15.配置社交链接

+++
  GitHub: https://github.com/ChenQiqian || github
  E-Mail: mailto:qiqianchen@gmail.com || envelope
  Instagram: https://www.instagram.com/qiqianchen/ || instagram
  Luogu: https://www.luogu.org/space/show?uid=57601

16. 其他主题配置

creative_commons: by-nc-sa
display: always
b2t: true
scrollpercent: true
updated_at: true
updated_diff: true
item_text_total: true
安装：
  npm install hexo-symbols-count-time --save
enable: true
google_site_verification: google10e62edab32bec8a.html
busuanzi_count:
    enable: true
$ cd theme/next && git clone https://github.com/theme-next/theme-next-canvas-nest source/lib/canvas-nest
canvas_nest: true

17. 添加代码折叠功能

themes/next/source/js/src/post-details.js

$(document).ready(function(){
  $(document).on('click', '.fold_hider', function(){
      $('>.fold', this.parentNode).slideToggle();
      $('>:first', this).toggleClass('open');
  });
  //默认情况下折叠
  $("div.fold").css("display","none");


themes/next/scripts/tags.js

/*
  @haohuawu
  修复 Nunjucks 的 tag 里写 ```代码块```，最终都会渲染成 undefined 的问题
  https://github.com/hexojs/hexo/issues/2400
*/
const rEscapeContent = /<escape(?:[^>]*)>([\s\S]*?)<\/escape>/g;
const placeholder = '\uFFFD';
const rPlaceholder = /(?:<|&lt;)\!--\uFFFD(\d+)--(?:>|&gt;)/g;
const cache = [];
function escapeContent(str) {
  return '<!--' + placeholder + (cache.push(str) - 1) + '-->';
}
hexo.extend.filter.register('before_post_render', function(data) {
  data.content = data.content.replace(rEscapeContent, function(match, content) {
    return escapeContent(content);
  });
  return data;
});
hexo.extend.filter.register('after_post_render', function(data) {
  data.content = data.content.replace(rPlaceholder, function() {
    return cache[arguments[1]];
  });
  return data;
});

fold.js

/* global hexo */
// Usage: {% fold ???? %} Something {% endfold %}
function fold (args, content) {
    var text = args[0];
    if(!text) text = "点击切换显示状态";
    return '<div><div class="fold_hider"><div class="close hider_title">' + text + '</div></div><div class="fold">\n' + hexo.render.renderSync({text: content, engine: 'markdown'}) + '\n</div></div>';
}
hexo.extend.tag.register('fold', fold, {ends: true});


themes/next/source/css/_custom/custom.styl


18. Spoiler


npm install hexo-spoiler --save
