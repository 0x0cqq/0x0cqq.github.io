<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8">
<title>Treap学习笔记 - Chen&#39;s Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />



    <meta name="description" content="闲下来了，开始写一点学习笔记，也希望能给后人造福吧。 第一篇来说一说Treap。">
<meta name="keywords" content="笔记,模板,平衡树,数据结构,Treap">
<meta property="og:type" content="article">
<meta property="og:title" content="Treap学习笔记">
<meta property="og:url" content="https://blog.chenqiqian.com/20180130-treap-notes/index.html">
<meta property="og:site_name" content="Chen&#39;s Blog">
<meta property="og:description" content="闲下来了，开始写一点学习笔记，也希望能给后人造福吧。 第一篇来说一说Treap。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://blog.chenqiqian.com/20180130-treap-notes/lower_upper.gif">
<meta property="og:image" content="https://blog.chenqiqian.com/20180130-treap-notes/rotate.gif">
<meta property="og:updated_time" content="2019-03-09T13:42:45.564Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Treap学习笔记">
<meta name="twitter:description" content="闲下来了，开始写一点学习笔记，也希望能给后人造福吧。 第一篇来说一说Treap。">
<meta name="twitter:image" content="https://blog.chenqiqian.com/20180130-treap-notes/lower_upper.gif">






<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=google10e62edab32bec8a.html"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'google10e62edab32bec8a.html');
</script>


    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    
        <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    

    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="https://www.chenqiqian.com">
            
                <img src="/images/avatar_1.png" alt="Treap学习笔记" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">主页</a>
                
                <a class="navbar-item"
                href="/archives">归档</a>
                
                <a class="navbar-item"
                href="/categories">分类</a>
                
                <a class="navbar-item"
                href="/tags">标签</a>
                
                <a class="navbar-item"
                href="/links">友链</a>
                
                <a class="navbar-item"
                href="/board">留言板</a>
                
                <a class="navbar-item"
                href="/about">关于</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-01-30T10:41:41.000Z">2018-01-30</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/OI/">OI</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    30 分钟 读完 (大约 4565 个字)
                </span>
                
                
                <span class="level-item has-text-grey" id="busuanzi_container_page_pv">
                    <i class="far fa-eye"></i>
                    <span id="busuanzi_value_page_pv">0</span>次访问
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                Treap学习笔记
            
        </h1>
        <div class="content">
            <p>闲下来了，开始写一点学习笔记，也希望能给后人造福吧。</p>
<p>第一篇来说一说Treap。<br><a id="more"></a></p>
<h2 id="Treap是什么"><a href="#Treap是什么" class="headerlink" title="Treap是什么"></a>Treap是什么</h2><h3 id="Tree-Heap"><a href="#Tree-Heap" class="headerlink" title="Tree + Heap"></a>Tree + Heap</h3><p>树堆（英语：Treap），是有一个随机附加域满足堆的性质的二叉搜索树，其结构相当于以随机数据插入的二叉搜索树。其基本操作的期望时间复杂度为$O(\log {n})$。相对于其他的平衡二叉搜索树，Treap的特点是实现简单，且能基本实现随机平衡的结构。<br><!-- more --></p>
<h2 id="基本思想及操作"><a href="#基本思想及操作" class="headerlink" title="基本思想及操作"></a>基本思想及操作</h2><p>一般在Treap里面维护一个最小堆。</p>
<h3 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h3><p>旋转是一种不破坏二叉搜索树性质的操作，有左旋及右旋两种。具体操作在代码部分解释。<br>旋转的时间复杂度是$O(1)$，因为只需要修改常数个指针。</p>
<h3 id="按关键字寻找"><a href="#按关键字寻找" class="headerlink" title="按关键字寻找"></a>按关键字寻找</h3><p>可以发现，在要寻找的关键字小于当前节点关键字时，其节点只可能在当前节点的左子树中；等于时即为当前节点；大于时候在右子树中。于是可以根据关键字寻找到节点。</p>
<h3 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h3><p>在Treap中，插入需要根据二叉搜索树的性质，找到能放置这个节点的空位置，给新节点随机分配一个优先值，然后调整Treap的堆性质。</p>
<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><p>如果需要删除一个节点，首先应当寻找到这个节点，并将这个节点旋转至最底层，即左右儿子皆为空的时候，删除该节点。并注意需要在旋转过程中维护最小堆性质。</p>
<h3 id="查询排名"><a href="#查询排名" class="headerlink" title="查询排名"></a>查询排名</h3><p>在这里排名是指小于某数的数的个数+1。注意到在某二叉搜索树中，小于根节点的节点数目即为根节点左子树的节点数目。所以只需要按关键字查找到此节点，并如果向右搜索，就加上此节点左子树的大小和根节点的大小，进行递归搜索。</p>
<h3 id="按排名查找"><a href="#按排名查找" class="headerlink" title="按排名查找"></a>按排名查找</h3><p>需要对每一个节点维护一个<code>size</code>值，意为以其为根节点的树的大小（包括本身）。搜索的时候，如果排名小于当前节点左子树的<code>size</code>值直接递归进入左子树；如果排名落在当前节点，则返回当前节点；否则更新排名向右子树递归。</p>
<h3 id="前驱-amp-后继"><a href="#前驱-amp-后继" class="headerlink" title="前驱&amp;后继"></a>前驱&amp;后继</h3><p>在这里，前驱定义为小于x，且最大的数。后继同理。这个的寻找稍微复杂。<br>以前驱为例。</p>
<p>如果寻找到的节点有左子树，那么其前驱就是左子树里面的最大值；如果没有左子树，那么其前驱就是寻找的路径上最靠近的一个向右寻找的节点。</p>
<p>第一种很容易想明白，第二种稍难一些。</p>
<p><img src="lower_upper.gif" alt="前驱和后继"></p>
<p>以此图为例。比如我们寻找12的前驱，它没有左子树，所以它属于情况二。按照刚才提到的规则，可以发现12的前驱是11，因为11是最后一个向右寻找，即下一次寻找是其右儿子（16）的节点。</p>
<p>可以注意到，11的左子树上的点全都比6小，不符合要求；12的左子树不存在，12的右子树上的点都比12大，而11-12的路径上的点，其应当是全都是向左寻找的，也都比12要大，而在11以上的点，应当都比12要大（11是左儿子的时候），或者比11要小（11是右儿子的时候），所以，6就是7的前驱。</p>
<p>后继同理。</p>
<p>插入、删除等以上操作的期望时间复杂度都是$O(\log {n})$，因为树的期望高度h是$\log {n}$。</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>以<a href="https://www.luogu.org/problemnew/show/P3369" target="_blank" rel="noopener">洛谷P3369 普通平衡树</a>为例。代码是指针版，不记录父节点，递归操作，有轻微压行，采用java换行风格。</p>
<p>（其实我还是觉得数组好写</p>
<h3 id="结构体的定义"><a href="#结构体的定义" class="headerlink" title="结构体的定义"></a>结构体的定义</h3><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T,<span class="hljs-keyword">size_t</span> siz&gt;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">treap</span>&#123;</span></span><br><span class="line">    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node_t</span>&#123;</span></span><br><span class="line">        T val;</span><br><span class="line">        <span class="hljs-keyword">int</span> p,size,cnt;</span><br><span class="line">        <span class="hljs-keyword">node_t</span> *son[<span class="hljs-number">2</span>];</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="hljs-keyword">int</span> treapcnt;</span><br><span class="line">    <span class="hljs-keyword">node_t</span> pool[siz&lt;&lt;<span class="hljs-number">1</span>],*root,*null;</span><br><span class="line">    <span class="hljs-comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在这里采用了模板的定义方法。T为一个模版类。需要注意这里的T模板要有小于运算符。</p>
<p>对于每一个节点，我们维护以下几个信息：关键字，随机优先值，以其为根的二叉搜索树的大小，和这个关键字的数量，左儿子和右儿子的指针。默认0为左，1为右。</p>
<p>在结构体的变量中，我们维护了一个静态内存池，内存池已经使用的数量，根节点的指针，以及一个虚的空节点。</p>
<p>在这里自己定义一个空节点的好处主要是可以避免<code>NULL</code>导致的<code>segmentation fault</code>，以及让函数编写变得更加简单。</p>
<p>需要注意的是，视题目不同，<code>cnt</code>变量可能可以省去。</p>
<h3 id="一些简单函数"><a href="#一些简单函数" class="headerlink" title="一些简单函数"></a>一些简单函数</h3><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">newnode</span><span class="hljs-params">(<span class="hljs-keyword">node_t</span> *&amp;r)</span></span>&#123;</span><br><span class="line">    r = &amp;pool[Treapcnt++];</span><br><span class="line">    r-&gt;son[<span class="hljs-number">0</span>] = r-&gt;son[<span class="hljs-number">1</span>] = null;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">node_t</span> *r)</span></span>&#123;</span><br><span class="line">    r-&gt;size = r-&gt;son[<span class="hljs-number">0</span>]-&gt;size + r-&gt;son[<span class="hljs-number">1</span>]-&gt;size + r-&gt;cnt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">node_t</span>* find_minormax(<span class="hljs-keyword">node_t</span> *r,<span class="hljs-keyword">int</span> tmp)&#123;<span class="hljs-comment">//0最小 1最大</span></span><br><span class="line">    <span class="hljs-keyword">while</span>(r-&gt;son[tmp]!=null)</span><br><span class="line">        r = r-&gt;son[tmp];</span><br><span class="line">    <span class="hljs-keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>newnode函数在这里完成对节点初始化的任务，并对子节点赋值。需要注意以下，这里需要使用引用的方法，否则如果使用了返回值的办法，就不能使用newnode函数对null赋值了，因为会产生<code>NULL</code>这种可怕的东西。其实在这里也可以把赋关键字、随机值、<code>size</code>值等事情一并完成，但是我比较懒，所以就在后面手动赋值了。</p>
<p>update函数在这里完成对节点<code>size</code>值的更新，很好理解。</p>
<p>find_minormax函数在这里完成对以r为根节点的树上最大或最小节点的寻找。也很简单，就不解释了。</p>
<p>后两个函数可以放到node结构体里面，但是我不太喜欢那么做，因为那样会使箭头的数目大大增多，从而导致头疼（雾。</p>
<h3 id="结构体的初始化"><a href="#结构体的初始化" class="headerlink" title="结构体的初始化"></a>结构体的初始化</h3><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">treap()&#123;</span><br><span class="line">    treapcnt = <span class="hljs-number">0</span>;</span><br><span class="line">    newnode(null);</span><br><span class="line">    null-&gt;size = null-&gt;val = <span class="hljs-number">0</span>;</span><br><span class="line">    null-&gt;p = MAXINT;</span><br><span class="line">    root = null;</span><br><span class="line">    srand(time(<span class="hljs-literal">NULL</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结构体的初始化不难，有几点需要注意：</p>
<ul>
<li>空指针的<code>size</code>需要为0</li>
<li>空指针的随机值需要<strong>足够大</strong>（最大堆中足够小，最好是maxint，否则有可能在之后的删除操作中被转上去，然后树就断了</li>
<li>最好srand一下</li>
</ul>
<h3 id="旋转-1"><a href="#旋转-1" class="headerlink" title="旋转"></a>旋转</h3><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">rotate</span><span class="hljs-params">(<span class="hljs-keyword">node_t</span> *&amp;r,<span class="hljs-keyword">int</span> tmp)</span></span>&#123;<span class="hljs-comment">//0左旋，1右旋</span></span><br><span class="line">    <span class="hljs-keyword">node_t</span> *t = r-&gt;son[<span class="hljs-number">1</span>-tmp];</span><br><span class="line">    r-&gt;son[<span class="hljs-number">1</span>-tmp] = t-&gt;son[tmp];</span><br><span class="line">    t-&gt;son[tmp] = r;</span><br><span class="line">    update(r),update(t);</span><br><span class="line">    r = t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="rotate.gif" alt="旋转图片"></p>
<p>旋转操作的文字叙述：<br>（括号里文字以左旋为例）</p>
<ol>
<li>选定当前节点r <em>（图中的x）</em></li>
<li>找到并记录需要旋上来的节点t（左旋旋右儿子，右旋左儿子）<em>（图中的y）</em></li>
<li>把t将要被覆盖的儿子（与旋转方向相同的儿子）接到t在r原来的位置上 <em>（把b接在x的右子位置上）</em></li>
<li>把r接到t空出来的位置上 <em>（把x接到y的x的左子树上）</em></li>
<li>更新<code>size</code>值 <em>（更新x，y的<code>size</code>）</em></li>
</ol>
<p>由于我们没有记录父节点，所以这个旋转的写法跟Splay的旋转写法不太像。但其实Splay也可以这么写，只不过没有必要。</p>
<p>其实这个记不下来不要紧。大概有个印象，要写的时候根据二叉搜索树的性质现推也可以其实。（误</p>
<p>但需要注意的是，旋转很有可能（就是会破坏一个合法Treap的堆性质，所以旋转在Treap中只用来维护堆的性质，而不用在其他的地方。而且这里的指针是<strong>引用</strong>传递，才能修改对应父节点的儿子指针。</p>
<p>有一点很重要的就是要维护<code>size</code>的值，而且是从下到上。</p>
<h3 id="插入-1"><a href="#插入-1" class="headerlink" title="插入"></a>插入</h3><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">void</span> __insert(<span class="hljs-keyword">node_t</span> *&amp;r,T v)&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(r == null)&#123;</span><br><span class="line">        newnode(r);</span><br><span class="line">        r-&gt;val = v,r-&gt;cnt = <span class="hljs-number">1</span>,r-&gt;p = rand();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(r-&gt;val == v)</span><br><span class="line">            r-&gt;cnt++;</span><br><span class="line">        <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> tmp = r-&gt;val &lt; v;</span><br><span class="line">            __insert(r-&gt;son[tmp],v);</span><br><span class="line">            <span class="hljs-keyword">if</span>(r-&gt;son[tmp]-&gt;p &lt; r-&gt;p)</span><br><span class="line">                rotate(r,<span class="hljs-number">1</span>-tmp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    update(r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>用文字说明Treap的插入策略：</p>
<ol>
<li>递归边界：寻找到节点，cnt++或者已经到达空节点，赋值一个新节点</li>
<li>递归添加节点，比当前节点小向左，比当前节点大向右</li>
<li>维护最小堆的性质</li>
<li>更新<code>size</code>值</li>
</ol>
<p>在维护最小堆的性质的时候，如果子节点的权值较小，那我们就需要把它转上来。</p>
<p>需要注意，这里的节点是<strong>引用</strong>方式传入，这样才能对父节点的儿子指针进行修改，从而完成树的连接<br>再次重复，不要忘记更新<code>size</code>值。</p>
<h3 id="删除-1"><a href="#删除-1" class="headerlink" title="删除"></a>删除</h3><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">void</span> __erase(<span class="hljs-keyword">node_t</span> *&amp;r,T v)&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(r-&gt;val == v)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(r-&gt;cnt &gt; <span class="hljs-number">1</span>) r-&gt;cnt--;</span><br><span class="line">        <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span>(r-&gt;son[<span class="hljs-number">0</span>]==null &amp;&amp; r-&gt;son[<span class="hljs-number">1</span>]==null)&#123;</span><br><span class="line">                r = null;<span class="hljs-keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">else</span>&#123;<span class="hljs-comment">//还有子节点，</span></span><br><span class="line">                <span class="hljs-keyword">int</span> tmp = r-&gt;son[<span class="hljs-number">1</span>]-&gt;p &lt; r-&gt;son[<span class="hljs-number">0</span>]-&gt;p;</span><br><span class="line">                rotate(r,<span class="hljs-number">1</span>-tmp);</span><br><span class="line">                __erase(r,v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> tmp = r-&gt;val &lt; v;</span><br><span class="line">        __erase(r-&gt;son[tmp],v);</span><br><span class="line">    &#125;</span><br><span class="line">    update(r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>用文字说明Treap的删除策略：</p>
<ol>
<li>递归边界：要删除的节点没有儿子节点</li>
<li>寻找到当前节点，减少数量或者向下旋转</li>
<li>维护最小堆的性质，即把两个儿子中权值较小的旋转上来</li>
<li>递归删除节点<strong>注意此处的节点指针仍是r，因为r在旋转中已经发生了变化</strong></li>
<li>更新<code>size</code>值</li>
</ol>
<p>删除的时候最需要注意的已经在上面指出。</p>
<p>还有在旋转比较的时候一定比较的是优先级！！！</p>
<p>Treap的删除和插入其实很像，只不过递归的位置相反。插入是先递归再维护，而删除是先维护再递归。</p>
<h3 id="查询排名-amp-排名查询"><a href="#查询排名-amp-排名查询" class="headerlink" title="查询排名&amp;排名查询"></a>查询排名&amp;排名查询</h3><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">int</span> __getrank(<span class="hljs-keyword">node_t</span> *r,T v)&#123;<span class="hljs-comment">//查找数v的排名</span></span><br><span class="line">    <span class="hljs-keyword">if</span>(r-&gt;val == v||r == null)<span class="hljs-comment">//记得判空！</span></span><br><span class="line">        <span class="hljs-keyword">return</span> r-&gt;son[<span class="hljs-number">0</span>]-&gt;size + <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(v &lt; r-&gt;val)</span><br><span class="line">        <span class="hljs-keyword">return</span> __getrank(r-&gt;son[<span class="hljs-number">0</span>],v);</span><br><span class="line">    <span class="hljs-keyword">else</span></span><br><span class="line">        <span class="hljs-keyword">return</span> __getrank(r-&gt;son[<span class="hljs-number">1</span>],v) + r-&gt;son[<span class="hljs-number">0</span>]-&gt;size + r-&gt;cnt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">node_t</span>* __qrank(<span class="hljs-keyword">node_t</span> *r,<span class="hljs-keyword">int</span> rank)&#123;<span class="hljs-comment">//查找以rank排名的数</span></span><br><span class="line">    rank -= r-&gt;son[<span class="hljs-number">0</span>]-&gt;size;</span><br><span class="line">    <span class="hljs-keyword">if</span>(rank&lt;=<span class="hljs-number">0</span>)</span><br><span class="line">        <span class="hljs-keyword">return</span> __qrank(r-&gt;son[<span class="hljs-number">0</span>],rank + r-&gt;son[<span class="hljs-number">0</span>]-&gt;size);</span><br><span class="line">    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(rank &lt;= r-&gt;cnt)</span><br><span class="line">        <span class="hljs-keyword">return</span> r;</span><br><span class="line">    <span class="hljs-keyword">else</span></span><br><span class="line">        <span class="hljs-keyword">return</span> __qrank(r-&gt;son[<span class="hljs-number">1</span>],rank - r-&gt;cnt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这两个比较简单，而且在上面也讲的很详细了，所以就一块说。</p>
<p>查询排名和排名查询其实是相反的操作，只需要注意将+1，-1和空节点等问题处理好了就可以了。</p>
<h3 id="前驱和后继"><a href="#前驱和后继" class="headerlink" title="前驱和后继"></a>前驱和后继</h3><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">node_t</span> *loworup(T v,<span class="hljs-keyword">int</span> t)&#123;<span class="hljs-comment">//0代表前驱，1代表后继</span></span><br><span class="line">    <span class="hljs-keyword">node_t</span> *last = null,*nown = root;</span><br><span class="line">    <span class="hljs-keyword">while</span>(nown-&gt;val!=v &amp;&amp; nown!=null)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> tmp =  nown-&gt;val &lt; v;</span><br><span class="line">        <span class="hljs-keyword">if</span>(tmp!=t) last = nown;</span><br><span class="line">        nown = nown-&gt;son[tmp];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">if</span>(nown-&gt;son[t]!=null)</span><br><span class="line">        last = find_minormax(nown-&gt;son[t],<span class="hljs-number">1</span>-t);</span><br><span class="line">    <span class="hljs-keyword">return</span> last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这两个操作其实是完全相反的，所以合到了一个函数里面，在后面的进一步的封装中再分开。</p>
<p>思路在上面已经提到，在这里只需要注意对不存在的值的前驱／后继进行处理。我们查不到不存在的值的节点，但我们可以假装那里有一个节点。因为null的孩子也是null，所以这段代码也可以直接使用在值的前驱和后继里面。</p>
<p><del>多说一句，在Splay里面，我们可以直接把待查节点splay到根然后瞎搞一通</del></p>
<h3 id="输出树"><a href="#输出树" class="headerlink" title="输出树"></a>输出树</h3><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">void</span> __print(<span class="hljs-keyword">node_t</span> *r,<span class="hljs-keyword">int</span> depth = <span class="hljs-number">0</span>)&#123;</span><br><span class="line">    <span class="hljs-keyword">if</span>(r == null) <span class="hljs-keyword">return</span>;</span><br><span class="line">    <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">        __print(r-&gt;son[<span class="hljs-number">0</span>],depth+<span class="hljs-number">1</span>);</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i&lt;depth;i++) <span class="hljs-built_in">putchar</span>(<span class="hljs-string">' '</span>);<span class="hljs-comment">//打印深度</span></span><br><span class="line">        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"val:%d cnt:%d size:%d P:%d son?:%d %d\n"</span>,r-&gt;val,r-&gt;cnt,r-&gt;size,r-&gt;p,r-&gt;son[<span class="hljs-number">0</span>]!=null,r-&gt;son[<span class="hljs-number">1</span>]!=null);</span><br><span class="line">        __print(r-&gt;son[<span class="hljs-number">1</span>],depth+<span class="hljs-number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>按照中序遍历打印一棵树。主要在调试的时候用的多。有一个小技巧就是记录一个深度，然后把深度长度的空格打印出来，这样就可以更直观的看到各个节点的深度什么的。</p>
<h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(T v)</span></span>&#123;__insert(root,v);&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">erase</span><span class="hljs-params">(T v)</span></span>&#123;__erase(root,v);&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getrank</span><span class="hljs-params">(T v)</span></span>&#123;<span class="hljs-keyword">return</span> __getrank(root,v);&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qrank</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rank)</span></span>&#123;<span class="hljs-keyword">return</span> __qrank(root,rank)-&gt;val;&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lower</span><span class="hljs-params">(T v)</span></span>&#123;<span class="hljs-keyword">return</span> loworup(v,<span class="hljs-number">0</span>)-&gt;val;&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">upper</span><span class="hljs-params">(T v)</span></span>&#123;<span class="hljs-keyword">return</span> loworup(v,<span class="hljs-number">1</span>)-&gt;val;&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span>&#123;__print(root);&#125;</span><br></pre></td></tr></table></figure>
<p>封装其实没有必要，可以用一些判断来代替。但是我们为了让代码更像工程的代码，而且让前面的代码更美观，更令人赏心悦目，所以我们封装一下吧。</p>
<h2 id="完整代码及注释"><a href="#完整代码及注释" class="headerlink" title="完整代码及注释"></a>完整代码及注释</h2><p>题目：<a href="https://www.luogu.org/problemnew/show/P3369" target="_blank" rel="noopener">洛谷P3369 普通平衡树</a></p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> maxint  2147483647</span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T,<span class="hljs-keyword">size_t</span> siz&gt;<span class="hljs-comment">//模版T,需要有等于不等于和小于运算符</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">treap</span>&#123;</span></span><br><span class="line">    <span class="hljs-keyword">private</span>:</span><br><span class="line">    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node_t</span>&#123;</span></span><br><span class="line">        T val;</span><br><span class="line">        <span class="hljs-keyword">int</span> p,size,cnt;</span><br><span class="line">        <span class="hljs-keyword">node_t</span> *son[<span class="hljs-number">2</span>];</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="hljs-keyword">int</span> treapcnt;</span><br><span class="line">    <span class="hljs-keyword">node_t</span> pool[siz&lt;&lt;<span class="hljs-number">1</span>],*root,*null;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">newnode</span><span class="hljs-params">(<span class="hljs-keyword">node_t</span> *&amp;r)</span></span>&#123;</span><br><span class="line">        r = &amp;pool[treapcnt++];</span><br><span class="line">        r-&gt;son[<span class="hljs-number">0</span>] = r-&gt;son[<span class="hljs-number">1</span>] = null;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">node_t</span> *r)</span></span>&#123;</span><br><span class="line">        r-&gt;size = r-&gt;son[<span class="hljs-number">0</span>]-&gt;size+r-&gt;son[<span class="hljs-number">1</span>]-&gt;size+r-&gt;cnt;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">rotate</span><span class="hljs-params">(<span class="hljs-keyword">node_t</span> *&amp;r,<span class="hljs-keyword">int</span> tmp)</span></span>&#123;<span class="hljs-comment">//0左旋，1右旋</span></span><br><span class="line">        <span class="hljs-keyword">node_t</span> *t = r-&gt;son[<span class="hljs-number">1</span>-tmp];<span class="hljs-comment">//找到需要旋上来的节点</span></span><br><span class="line">        r-&gt;son[<span class="hljs-number">1</span>-tmp] = t-&gt;son[tmp];<span class="hljs-comment">//将被选节点的被遮蔽的儿子交给上面的节点</span></span><br><span class="line">        t-&gt;son[tmp] = r;<span class="hljs-comment">//将r作为t的儿子</span></span><br><span class="line">        update(r),update(t);<span class="hljs-comment">//注意更新顺序！先儿子后父亲</span></span><br><span class="line">        r = t;<span class="hljs-comment">//通过引用更改上方节点的儿子</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">void</span> __insert(<span class="hljs-keyword">node_t</span> *&amp;r,T v)&#123;<span class="hljs-comment">//r代表当前节点，v代表关键字</span></span><br><span class="line">        <span class="hljs-keyword">if</span>(r == null)&#123;<span class="hljs-comment">//如果r的地方已经没有节点</span></span><br><span class="line">            newnode(r);<span class="hljs-comment">//新建节点，并通过引用添加至上面节点的儿子</span></span><br><span class="line">            r-&gt;val = v,r-&gt;cnt = <span class="hljs-number">1</span>,r-&gt;p = rand();<span class="hljs-comment">//对相关信息的设置</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span>(r-&gt;val == v) <span class="hljs-comment">//如果已经添加过，直接给数量++</span></span><br><span class="line">                r-&gt;cnt++;</span><br><span class="line">            <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> tmp = r-&gt;val &lt; v;</span><br><span class="line">                __insert(r-&gt;son[tmp],v);<span class="hljs-comment">//递归更改</span></span><br><span class="line">                <span class="hljs-keyword">if</span>(r-&gt;son[tmp]-&gt;p &lt; r-&gt;p)<span class="hljs-comment">//维护treap性质</span></span><br><span class="line">                    rotate(r,<span class="hljs-number">1</span>-tmp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        update(r);<span class="hljs-comment">//不要忘了更新！</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">void</span> __erase(<span class="hljs-keyword">node_t</span> *&amp;r,T v)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(r-&gt;val == v)&#123;<span class="hljs-comment">//已经找到</span></span><br><span class="line">            <span class="hljs-keyword">if</span>(r-&gt;cnt &gt; <span class="hljs-number">1</span>) r-&gt;cnt--;</span><br><span class="line">            <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">                <span class="hljs-keyword">if</span>(r-&gt;son[<span class="hljs-number">0</span>]==null &amp;&amp; r-&gt;son[<span class="hljs-number">1</span>]==null)&#123;<span class="hljs-comment">//已经没有子节点，直接删除</span></span><br><span class="line">                    r = null;<span class="hljs-keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">else</span>&#123;<span class="hljs-comment">//还有子节点，</span></span><br><span class="line">                    <span class="hljs-keyword">int</span> tmp = r-&gt;son[<span class="hljs-number">1</span>]-&gt;p &lt; r-&gt;son[<span class="hljs-number">0</span>]-&gt;p;</span><br><span class="line">                    rotate(r,<span class="hljs-number">1</span>-tmp); <span class="hljs-comment">//找到其中随机权值较小的一个旋转替换当前节点</span></span><br><span class="line">                    __erase(r,v);<span class="hljs-comment">//递归删除 注意此处r已经发生了变化</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span>&#123;<span class="hljs-comment">//还没找到</span></span><br><span class="line">            <span class="hljs-keyword">int</span> tmp = r-&gt;val &lt; v;</span><br><span class="line">            __erase(r-&gt;son[tmp],v);<span class="hljs-comment">//递归寻找</span></span><br><span class="line">        &#125;</span><br><span class="line">        update(r);<span class="hljs-comment">//不要忘了更新！</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">void</span> __print(<span class="hljs-keyword">node_t</span> *r,<span class="hljs-keyword">int</span> depth = <span class="hljs-number">0</span>)&#123;<span class="hljs-comment">//调试用</span></span><br><span class="line">        <span class="hljs-keyword">if</span>(r == null) <span class="hljs-keyword">return</span>;</span><br><span class="line">        <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">            __print(r-&gt;son[<span class="hljs-number">0</span>],depth+<span class="hljs-number">1</span>);</span><br><span class="line">            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i&lt;depth;i++) <span class="hljs-built_in">putchar</span>(<span class="hljs-string">' '</span>);<span class="hljs-comment">//打印深度</span></span><br><span class="line">            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"val:%d cnt:%d size:%d P:%d son?:%d %d\n"</span>,r-&gt;val,r-&gt;cnt,r-&gt;size,r-&gt;p,r-&gt;son[<span class="hljs-number">0</span>]!=null,r-&gt;son[<span class="hljs-number">1</span>]!=null);</span><br><span class="line">            __print(r-&gt;son[<span class="hljs-number">1</span>],depth+<span class="hljs-number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">int</span> __getrank(<span class="hljs-keyword">node_t</span> *r,T v)&#123;<span class="hljs-comment">//查找数v的排名</span></span><br><span class="line">        <span class="hljs-keyword">if</span>(r-&gt;val == v||r == null)<span class="hljs-comment">//记得判空！</span></span><br><span class="line">            <span class="hljs-keyword">return</span> r-&gt;son[<span class="hljs-number">0</span>]-&gt;size +<span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(v &lt; r-&gt;val)</span><br><span class="line">            <span class="hljs-keyword">return</span> __getrank(r-&gt;son[<span class="hljs-number">0</span>],v);</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">            <span class="hljs-keyword">return</span> __getrank(r-&gt;son[<span class="hljs-number">1</span>],v) + r-&gt;son[<span class="hljs-number">0</span>]-&gt;size + r-&gt;cnt;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">node_t</span>* __qrank(<span class="hljs-keyword">node_t</span> *r,<span class="hljs-keyword">int</span> rank)&#123;<span class="hljs-comment">//查找以rank排名的数</span></span><br><span class="line">        rank -= r-&gt;son[<span class="hljs-number">0</span>]-&gt;size;</span><br><span class="line">        <span class="hljs-keyword">if</span>(rank&lt;=<span class="hljs-number">0</span>)</span><br><span class="line">            <span class="hljs-keyword">return</span> __qrank(r-&gt;son[<span class="hljs-number">0</span>],rank + r-&gt;son[<span class="hljs-number">0</span>]-&gt;size);</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(rank &lt;= r-&gt;cnt)</span><br><span class="line">            <span class="hljs-keyword">return</span> r;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">            <span class="hljs-keyword">return</span> __qrank(r-&gt;son[<span class="hljs-number">1</span>],rank - r-&gt;cnt);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">node_t</span> *find_minormax(<span class="hljs-keyword">node_t</span> *r,<span class="hljs-keyword">int</span> tmp)&#123;</span><br><span class="line">        <span class="hljs-comment">//寻找以r为根节点的树上最大或最小节点</span></span><br><span class="line">        <span class="hljs-keyword">while</span>(r-&gt;son[tmp]!=null)</span><br><span class="line">            r = r-&gt;son[tmp];</span><br><span class="line">        <span class="hljs-keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">node_t</span> *loworup(T v,<span class="hljs-keyword">int</span> t)&#123;<span class="hljs-comment">//0代表前驱，1代表后继</span></span><br><span class="line">        <span class="hljs-keyword">node_t</span> *last = null,*nown = root;<span class="hljs-comment">//last表示上一个没有当前寻找方向的节点</span></span><br><span class="line">        <span class="hljs-keyword">while</span>(nown-&gt;val!=v &amp;&amp; nown!=null)&#123;<span class="hljs-comment">//记得判空!</span></span><br><span class="line">            <span class="hljs-keyword">int</span> tmp =  nown-&gt;val &lt; v;</span><br><span class="line">            <span class="hljs-keyword">if</span>(tmp!=t) last = nown;</span><br><span class="line">            nown = nown-&gt;son[tmp];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">if</span>(nown-&gt;son[t]!=null)<span class="hljs-comment">//有子节点</span></span><br><span class="line">            last = find_minormax(nown-&gt;son[t],<span class="hljs-number">1</span>-t);<span class="hljs-comment">//寻找对应方向子节点的最小or最大值</span></span><br><span class="line">        <span class="hljs-keyword">return</span> last;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">public</span>:</span><br><span class="line">    treap()&#123;</span><br><span class="line">        treapcnt = <span class="hljs-number">0</span>;</span><br><span class="line">        newnode(null);</span><br><span class="line">        null-&gt;size = null-&gt;val=<span class="hljs-number">0</span>;</span><br><span class="line">        null-&gt;p = maxint;</span><br><span class="line">        root = null;</span><br><span class="line">        srand(time(<span class="hljs-literal">NULL</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(T v)</span></span>&#123;__insert(root,v);&#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">erase</span><span class="hljs-params">(T v)</span></span>&#123;__erase(root,v);&#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getrank</span><span class="hljs-params">(T v)</span></span>&#123;<span class="hljs-keyword">return</span> __getrank(root,v);&#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">qrank</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rank)</span></span>&#123;<span class="hljs-keyword">return</span> __qrank(root,rank)-&gt;val;&#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lower</span><span class="hljs-params">(T v)</span></span>&#123;<span class="hljs-keyword">return</span> loworup(v,<span class="hljs-number">0</span>)-&gt;val;&#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">upper</span><span class="hljs-params">(T v)</span></span>&#123;<span class="hljs-keyword">return</span> loworup(v,<span class="hljs-number">1</span>)-&gt;val;&#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span>&#123;__print(root);&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">treap&lt;<span class="hljs-keyword">int</span>,<span class="hljs-number">200000</span>&gt; w;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> op, x;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d %d"</span>,&amp;op,&amp;x);</span><br><span class="line">        <span class="hljs-keyword">if</span>(op == <span class="hljs-number">1</span>)      w.insert(x);</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(op == <span class="hljs-number">2</span>) w.erase(x);</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(op == <span class="hljs-number">3</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>,w.getrank(x));</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(op == <span class="hljs-number">4</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>,w.qrank(x));</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(op == <span class="hljs-number">5</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>,w.lower(x));</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(op == <span class="hljs-number">6</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>,w.upper(x));</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(op == <span class="hljs-number">0</span>) w.print();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>update:数组版代码</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> maxint 2147483647</span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAXN = <span class="hljs-number">200000</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">treap</span>&#123;</span></span><br><span class="line">    <span class="hljs-keyword">int</span> val[MAXN],p[MAXN],son[MAXN][<span class="hljs-number">2</span>];</span><br><span class="line">    <span class="hljs-keyword">int</span> siz[MAXN],cnt[MAXN];</span><br><span class="line">    <span class="hljs-keyword">int</span> root,treapcnt;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">newnode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> x = ++treapcnt;</span><br><span class="line">        son[x][<span class="hljs-number">0</span>] = son[x][<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;</span><br><span class="line">        val[x] = v;cnt[x] = <span class="hljs-number">1</span>;p[x] = rand();</span><br><span class="line">        <span class="hljs-keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;</span><br><span class="line">        siz[x] = cnt[x]+siz[son[x][<span class="hljs-number">1</span>]]+siz[son[x][<span class="hljs-number">0</span>]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">rotate</span><span class="hljs-params">(<span class="hljs-keyword">int</span> &amp;x,<span class="hljs-keyword">int</span> t)</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> y = son[x][t];</span><br><span class="line">        son[x][t] = son[y][<span class="hljs-number">1</span>-t];</span><br><span class="line">        son[y][<span class="hljs-number">1</span>-t] = x;</span><br><span class="line">        update(x),update(y);</span><br><span class="line">        x = y;</span><br><span class="line">    &#125;</span><br><span class="line">    treap()&#123;</span><br><span class="line">        srand(<span class="hljs-number">19260817</span>);</span><br><span class="line">        treapcnt = root = <span class="hljs-number">0</span>;</span><br><span class="line">        p[<span class="hljs-number">0</span>] = maxint;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">void</span> __insert(<span class="hljs-keyword">int</span> &amp;x,<span class="hljs-keyword">int</span> v)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(x)&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span>(val[x] == v)</span><br><span class="line">                cnt[x]++;</span><br><span class="line">            <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">                <span class="hljs-keyword">int</span> t = v &gt; val[x];</span><br><span class="line">                __insert(son[x][t],v);</span><br><span class="line">                <span class="hljs-keyword">if</span>(p[son[x][t]] &lt; p[x])</span><br><span class="line">                    rotate(x,t);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">            x = newnode(v);</span><br><span class="line">        update(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">void</span> __erase(<span class="hljs-keyword">int</span> &amp;x,<span class="hljs-keyword">int</span> v)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(val[x] == v)&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span>(cnt[x])</span><br><span class="line">                cnt[x]--;</span><br><span class="line">            <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">                <span class="hljs-keyword">if</span>(son[x][<span class="hljs-number">0</span>] == <span class="hljs-number">0</span> &amp;&amp; son[x][<span class="hljs-number">1</span>] == <span class="hljs-number">0</span>)&#123;</span><br><span class="line">                    x = <span class="hljs-number">0</span>;<span class="hljs-keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="hljs-keyword">int</span> t = p[son[x][<span class="hljs-number">0</span>]] &gt; p[son[x][<span class="hljs-number">1</span>]];</span><br><span class="line">                rotate(x,t);</span><br><span class="line">                __erase(x,v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">            <span class="hljs-keyword">int</span> t = val[x] &lt; v;</span><br><span class="line">            __erase(son[x][t],v);</span><br><span class="line">        &#125;</span><br><span class="line">        update(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">get_kth</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k)</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> x = root;</span><br><span class="line">        <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span>(k&lt;=siz[son[x][<span class="hljs-number">0</span>]])</span><br><span class="line">                x = son[x][<span class="hljs-number">0</span>];</span><br><span class="line">            <span class="hljs-keyword">else</span>&#123;</span><br><span class="line">                k -= siz[son[x][<span class="hljs-number">0</span>]] + cnt[x];</span><br><span class="line">                <span class="hljs-keyword">if</span>(k&lt;=<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> val[x];</span><br><span class="line">                <span class="hljs-keyword">else</span> x = son[x][<span class="hljs-number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">get_rank</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">int</span> x = root,ans = <span class="hljs-number">0</span>;</span><br><span class="line">        <span class="hljs-keyword">while</span>(x)&#123;</span><br><span class="line">            <span class="hljs-keyword">if</span>(v &lt; val[x])</span><br><span class="line">                x = son[x][<span class="hljs-number">0</span>];</span><br><span class="line">            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(v &gt; val[x])</span><br><span class="line">                ans+=siz[son[x][<span class="hljs-number">0</span>]]+cnt[x],x = son[x][<span class="hljs-number">1</span>];</span><br><span class="line">            <span class="hljs-keyword">else</span></span><br><span class="line">                ans+=siz[son[x][<span class="hljs-number">0</span>]],x = <span class="hljs-number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">void</span> __print(<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> dep)&#123;</span><br><span class="line">        <span class="hljs-keyword">if</span>(dep == <span class="hljs-number">0</span>)</span><br><span class="line">            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"-------------------\n"</span>);</span><br><span class="line">        <span class="hljs-keyword">if</span>(x == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;</span><br><span class="line">        __print(son[x][<span class="hljs-number">0</span>],dep+<span class="hljs-number">1</span>);</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i&lt;dep;i++) <span class="hljs-built_in">putchar</span>(<span class="hljs-string">' '</span>);</span><br><span class="line">        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"v:%d p:%d siz:%d cnt:%d son:%d %d\n"</span>,val[x],p[x],siz[x],cnt[x],son[x][<span class="hljs-number">0</span>],son[x][<span class="hljs-number">1</span>]);</span><br><span class="line">        __print(son[x][<span class="hljs-number">1</span>],dep+<span class="hljs-number">1</span>);</span><br><span class="line">        <span class="hljs-keyword">if</span>(dep == <span class="hljs-number">0</span>)</span><br><span class="line">            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"---------------------\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span></span>&#123;__insert(root,v);&#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">erase</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span></span>&#123;__erase(root,v);&#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">upper</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span></span>&#123;<span class="hljs-keyword">return</span> get_kth(get_rank(v+<span class="hljs-number">1</span>)+<span class="hljs-number">1</span>);&#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lower</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span></span>&#123;<span class="hljs-keyword">return</span> get_kth(get_rank(v));&#125;</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span>&#123;__print(root,<span class="hljs-number">0</span>);&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">treap a;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> n,op,v;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>,&amp;n);</span><br><span class="line">    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d %d"</span>,&amp;op,&amp;v);</span><br><span class="line">        <span class="hljs-keyword">if</span>(op == <span class="hljs-number">1</span>) a.insert(v);</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(op == <span class="hljs-number">2</span>) a.erase(v);</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(op == <span class="hljs-number">3</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>,a.get_rank(v)+<span class="hljs-number">1</span>);</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(op == <span class="hljs-number">4</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>,a.get_kth(v));</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(op == <span class="hljs-number">5</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>,a.lower(v));</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(op == <span class="hljs-number">6</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>,a.upper(v));</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(op == <span class="hljs-number">0</span>) a.print(),--i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h2><a href="/20180303-ZJOI2007-count/" title="「ZJOI2007」报表统计">「ZJOI2007」报表统计</a>

        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/Treap/">Treap</a>, <a class="has-link-grey -link" href="/tags/平衡树/">平衡树</a>, <a class="has-link-grey -link" href="/tags/数据结构/">数据结构</a>, <a class="has-link-grey -link" href="/tags/模板/">模板</a>, <a class="has-link-grey -link" href="/tags/笔记/">笔记</a>
                </div>
            </div>
        </div>
        
        
        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/20180131-NOI2004-cashier/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">「NOI2004」郁闷的出纳员-Splay</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/20180128-notes-for-test/">
                <span class="level-item">考试前要看的东西</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">评论</h3>
        
<div id="comment-container"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
	var gitment = new Gitment({
		id: '20180130-treap-notes/',
		owner: 'ChenQiqian',
		repo: 'comments',
		oauth: {
			client_id: 'd406e366deef7658dac9',
			client_secret: '3b814daf25a965305542d0ffc4529f56c1d688a3',
		},
	})
	gitment.render('comment-container')
</script>

    </div>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered">
                <div>
                    
                        <figure class="image container is-128x128 has-mb-6">
                            <img class="is-rounded" src="/images/avatar.jpg" alt="Chen Qiqian">
                        </figure>
                    
                    
                    <p class="is-size-4 is-block">
                        Chen Qiqian
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        记录时光与梦想
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Beijing,China</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <p class="title has-text-weight-normal">
                        224
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <p class="title has-text-weight-normal">
                        6
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <p class="title has-text-weight-normal">
                        98
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="http://github.com/ChenQiqian" target="_blank">
                关注我</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="http://github.com/Chenqiqian">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Instagram" href="https://www.instagram.com/qiqianchen/">
                
                <i class="fab fa-instagram"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Luogu" href="https://www.luogu.org/space/show?uid=57601">
                
                <i class="fab fa-terminal"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Codeforces" href="http://codeforces.com/profile/Chenqiqian">
                
                <i class="fab fa-terminal"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            链接
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://www.luogu.org" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Luogu</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.luogu.org</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://codeforces.com/" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Codeforces</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">codeforces.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/OI/">
            <span class="level-start">
                <span class="level-item">OI</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">181</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/OI/题解/">
            <span class="level-start">
                <span class="level-item">题解</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">30</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/总结/">
            <span class="level-start">
                <span class="level-item">总结</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">23</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/技术/">
            <span class="level-start">
                <span class="level-item">技术</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/日常/">
            <span class="level-start">
                <span class="level-item">日常</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/随笔/">
            <span class="level-start">
                <span class="level-item">随笔</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">10</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/0-1分数规划/" style="font-size: 10px;">0/1分数规划</a> <a href="/tags/AC自动机/" style="font-size: 12.22px;">AC自动机</a> <a href="/tags/BSGS算法/" style="font-size: 11.11px;">BSGS算法</a> <a href="/tags/CDQ分治/" style="font-size: 12.22px;">CDQ分治</a> <a href="/tags/Dinic/" style="font-size: 10.56px;">Dinic</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/KMP/" style="font-size: 11.11px;">KMP</a> <a href="/tags/Link-Cut-Tree-LCT/" style="font-size: 10.56px;">Link Cut Tree(LCT)</a> <a href="/tags/Lucas定理/" style="font-size: 10px;">Lucas定理</a> <a href="/tags/Splay/" style="font-size: 12.22px;">Splay</a> <a href="/tags/Treap/" style="font-size: 12.78px;">Treap</a> <a href="/tags/set/" style="font-size: 10.56px;">set</a> <a href="/tags/wqs二分/" style="font-size: 10px;">wqs二分</a> <a href="/tags/中国剩余定理/" style="font-size: 10px;">中国剩余定理</a> <a href="/tags/主席树/" style="font-size: 11.67px;">主席树</a> <a href="/tags/乱搞/" style="font-size: 10.56px;">乱搞</a> <a href="/tags/二分图/" style="font-size: 11.11px;">二分图</a> <a href="/tags/二分图匹配/" style="font-size: 10.56px;">二分图匹配</a> <a href="/tags/二分查找/" style="font-size: 10px;">二分查找</a> <a href="/tags/二分答案/" style="font-size: 10px;">二分答案</a> <a href="/tags/作文/" style="font-size: 10px;">作文</a> <a href="/tags/冬令营/" style="font-size: 10px;">冬令营</a> <a href="/tags/决策单调性/" style="font-size: 10.56px;">决策单调性</a> <a href="/tags/分块/" style="font-size: 12.22px;">分块</a> <a href="/tags/分层图/" style="font-size: 10px;">分层图</a> <a href="/tags/动态树/" style="font-size: 15px;">动态树</a> <a href="/tags/动态规划/" style="font-size: 18.89px;">动态规划</a> <a href="/tags/区间dp/" style="font-size: 10px;">区间dp</a> <a href="/tags/单调栈/" style="font-size: 10px;">单调栈</a> <a href="/tags/单调队列/" style="font-size: 11.67px;">单调队列</a> <a href="/tags/可持久化主席树/" style="font-size: 10px;">可持久化主席树</a> <a href="/tags/可持久化线段树/" style="font-size: 11.67px;">可持久化线段树</a> <a href="/tags/后缀数组/" style="font-size: 14.44px;">后缀数组</a> <a href="/tags/后缀自动机/" style="font-size: 10px;">后缀自动机</a> <a href="/tags/启发式合并/" style="font-size: 10.56px;">启发式合并</a> <a href="/tags/回文自动机/" style="font-size: 10px;">回文自动机</a> <a href="/tags/图解/" style="font-size: 10px;">图解</a> <a href="/tags/图论/" style="font-size: 18.33px;">图论</a> <a href="/tags/基环树/" style="font-size: 10px;">基环树</a> <a href="/tags/字符串/" style="font-size: 17.22px;">字符串</a> <a href="/tags/容斥原理/" style="font-size: 10px;">容斥原理</a> <a href="/tags/对偶图/" style="font-size: 10px;">对偶图</a> <a href="/tags/左偏树/" style="font-size: 11.11px;">左偏树</a> <a href="/tags/差分/" style="font-size: 10.56px;">差分</a> <a href="/tags/平衡树/" style="font-size: 15.56px;">平衡树</a> <a href="/tags/并查集/" style="font-size: 11.67px;">并查集</a> <a href="/tags/强连通分量/" style="font-size: 10px;">强连通分量</a> <a href="/tags/快速傅立叶变换/" style="font-size: 10px;">快速傅立叶变换</a> <a href="/tags/快速幂/" style="font-size: 10px;">快速幂</a> <a href="/tags/扩展欧几里得/" style="font-size: 10px;">扩展欧几里得</a> <a href="/tags/拓扑排序/" style="font-size: 10px;">拓扑排序</a> <a href="/tags/排序/" style="font-size: 10px;">排序</a> <a href="/tags/摘录/" style="font-size: 10px;">摘录</a> <a href="/tags/数位dp/" style="font-size: 10.56px;">数位dp</a> <a href="/tags/数学/" style="font-size: 16.11px;">数学</a> <a href="/tags/数据结构/" style="font-size: 19.44px;">数据结构</a> <a href="/tags/数论/" style="font-size: 13.33px;">数论</a> <a href="/tags/数论函数/" style="font-size: 10px;">数论函数</a> <a href="/tags/整体二分/" style="font-size: 10.56px;">整体二分</a> <a href="/tags/斜率优化/" style="font-size: 11.67px;">斜率优化</a> <a href="/tags/最大公约数/" style="font-size: 10px;">最大公约数</a> <a href="/tags/最大权闭合子图/" style="font-size: 10.56px;">最大权闭合子图</a> <a href="/tags/最短路/" style="font-size: 11.11px;">最短路</a> <a href="/tags/最近公共祖先/" style="font-size: 10.56px;">最近公共祖先</a> <a href="/tags/期望/" style="font-size: 12.78px;">期望</a> <a href="/tags/期望dp/" style="font-size: 10.56px;">期望dp</a> <a href="/tags/杜教筛/" style="font-size: 10px;">杜教筛</a> <a href="/tags/树套树/" style="font-size: 10.56px;">树套树</a> <a href="/tags/树形dp/" style="font-size: 13.33px;">树形dp</a> <a href="/tags/树形结构/" style="font-size: 16.67px;">树形结构</a> <a href="/tags/树状数组/" style="font-size: 11.11px;">树状数组</a> <a href="/tags/树的直径/" style="font-size: 11.67px;">树的直径</a> <a href="/tags/树链剖分/" style="font-size: 12.22px;">树链剖分</a> <a href="/tags/模板/" style="font-size: 12.78px;">模板</a> <a href="/tags/欧拉函数/" style="font-size: 10px;">欧拉函数</a> <a href="/tags/歌曲/" style="font-size: 10px;">歌曲</a> <a href="/tags/游记/" style="font-size: 10.56px;">游记</a> <a href="/tags/点分治/" style="font-size: 11.11px;">点分治</a> <a href="/tags/状压dp/" style="font-size: 11.67px;">状压dp</a> <a href="/tags/生成树/" style="font-size: 10px;">生成树</a> <a href="/tags/省选/" style="font-size: 10px;">省选</a> <a href="/tags/瞎搞/" style="font-size: 10px;">瞎搞</a> <a href="/tags/矩阵快速幂/" style="font-size: 12.22px;">矩阵快速幂</a> <a href="/tags/笔记/" style="font-size: 14.44px;">笔记</a> <a href="/tags/线性基/" style="font-size: 10px;">线性基</a> <a href="/tags/线段树/" style="font-size: 17.78px;">线段树</a> <a href="/tags/线段树合并/" style="font-size: 10.56px;">线段树合并</a> <a href="/tags/网络流/" style="font-size: 13.89px;">网络流</a> <a href="/tags/网络流-24-题/" style="font-size: 11.67px;">网络流 24 题</a> <a href="/tags/背包/" style="font-size: 10.56px;">背包</a> <a href="/tags/莫比乌斯反演/" style="font-size: 10px;">莫比乌斯反演</a> <a href="/tags/莫队/" style="font-size: 12.78px;">莫队</a> <a href="/tags/虚树/" style="font-size: 10.56px;">虚树</a> <a href="/tags/贪心/" style="font-size: 10px;">贪心</a> <a href="/tags/费用流/" style="font-size: 11.67px;">费用流</a> <a href="/tags/递推/" style="font-size: 10px;">递推</a> <a href="/tags/题解/" style="font-size: 20px;">题解</a> <a href="/tags/高斯消元/" style="font-size: 11.11px;">高斯消元</a>
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2332-12-31T16:00:00.000Z">2333-01-01</time></div>
                    <a href="/23330101-about-blog/" class="has-link-black-ter is-size-6">【置顶】关于这个博客的一切</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-03-20T13:12:17.000Z">2019-03-20</time></div>
                    <a href="/20190320-loj6004/" class="has-link-black-ter is-size-6">「网络流 24 题」圆桌聚餐-网络最大流</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/OI/">OI</a> / <a class="has-link-grey -link" href="/categories/OI/题解/">题解</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-03-20T12:45:09.000Z">2019-03-20</time></div>
                    <a href="/20190320-loj6003/" class="has-link-black-ter is-size-6">「网络流 24 题」魔术球-二分图最大匹配</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/OI/">OI</a> / <a class="has-link-grey -link" href="/categories/OI/题解/">题解</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-03-19T14:38:15.000Z">2019-03-19</time></div>
                    <a href="/20190319-loj6002/" class="has-link-black-ter is-size-6">「网络流 24 题」最小路径覆盖-二分图最大匹配</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/OI/">OI</a> / <a class="has-link-grey -link" href="/categories/OI/题解/">题解</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-03-19T11:43:52.000Z">2019-03-19</time></div>
                    <a href="/20190319-loj6001/" class="has-link-black-ter is-size-6">「网络流 24 题」太空飞行计划-最大权闭合子图</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/OI/">OI</a> / <a class="has-link-grey -link" href="/categories/OI/题解/">题解</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2333/01/">
                <span class="level-start">
                    <span class="level-item">一月 2333</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">三月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">17</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/02/">
                <span class="level-start">
                    <span class="level-item">二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">十月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">17</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">九月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">八月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">27</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">七月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">16</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">六月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">五月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">17</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">四月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">18</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">三月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/02/">
                <span class="level-start">
                    <span class="level-item">二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/01/">
                <span class="level-start">
                    <span class="level-item">一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/0-1分数规划/">
                        <span class="tag">0/1分数规划</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AC自动机/">
                        <span class="tag">AC自动机</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/BSGS算法/">
                        <span class="tag">BSGS算法</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CDQ分治/">
                        <span class="tag">CDQ分治</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Dinic/">
                        <span class="tag">Dinic</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hexo/">
                        <span class="tag">Hexo</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/KMP/">
                        <span class="tag">KMP</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Link-Cut-Tree-LCT/">
                        <span class="tag">Link Cut Tree(LCT)</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Lucas定理/">
                        <span class="tag">Lucas定理</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Splay/">
                        <span class="tag">Splay</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Treap/">
                        <span class="tag">Treap</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/set/">
                        <span class="tag">set</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/wqs二分/">
                        <span class="tag">wqs二分</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/中国剩余定理/">
                        <span class="tag">中国剩余定理</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/主席树/">
                        <span class="tag">主席树</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/乱搞/">
                        <span class="tag">乱搞</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二分图/">
                        <span class="tag">二分图</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二分图匹配/">
                        <span class="tag">二分图匹配</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二分查找/">
                        <span class="tag">二分查找</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二分答案/">
                        <span class="tag">二分答案</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/作文/">
                        <span class="tag">作文</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/冬令营/">
                        <span class="tag">冬令营</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/决策单调性/">
                        <span class="tag">决策单调性</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分块/">
                        <span class="tag">分块</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分层图/">
                        <span class="tag">分层图</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/动态树/">
                        <span class="tag">动态树</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/动态规划/">
                        <span class="tag">动态规划</span>
                        <span class="tag is-grey">39</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/区间dp/">
                        <span class="tag">区间dp</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/单调栈/">
                        <span class="tag">单调栈</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/单调队列/">
                        <span class="tag">单调队列</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/可持久化主席树/">
                        <span class="tag">可持久化主席树</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/可持久化线段树/">
                        <span class="tag">可持久化线段树</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/后缀数组/">
                        <span class="tag">后缀数组</span>
                        <span class="tag is-grey">10</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/后缀自动机/">
                        <span class="tag">后缀自动机</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/启发式合并/">
                        <span class="tag">启发式合并</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/回文自动机/">
                        <span class="tag">回文自动机</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/图解/">
                        <span class="tag">图解</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/图论/">
                        <span class="tag">图论</span>
                        <span class="tag is-grey">23</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/基环树/">
                        <span class="tag">基环树</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/字符串/">
                        <span class="tag">字符串</span>
                        <span class="tag is-grey">19</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/容斥原理/">
                        <span class="tag">容斥原理</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/对偶图/">
                        <span class="tag">对偶图</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/左偏树/">
                        <span class="tag">左偏树</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/差分/">
                        <span class="tag">差分</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/平衡树/">
                        <span class="tag">平衡树</span>
                        <span class="tag is-grey">13</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/并查集/">
                        <span class="tag">并查集</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/强连通分量/">
                        <span class="tag">强连通分量</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/快速傅立叶变换/">
                        <span class="tag">快速傅立叶变换</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/快速幂/">
                        <span class="tag">快速幂</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/扩展欧几里得/">
                        <span class="tag">扩展欧几里得</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/拓扑排序/">
                        <span class="tag">拓扑排序</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/排序/">
                        <span class="tag">排序</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/摘录/">
                        <span class="tag">摘录</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数位dp/">
                        <span class="tag">数位dp</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数学/">
                        <span class="tag">数学</span>
                        <span class="tag is-grey">14</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据结构/">
                        <span class="tag">数据结构</span>
                        <span class="tag is-grey">59</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数论/">
                        <span class="tag">数论</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数论函数/">
                        <span class="tag">数论函数</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/整体二分/">
                        <span class="tag">整体二分</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/斜率优化/">
                        <span class="tag">斜率优化</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/最大公约数/">
                        <span class="tag">最大公约数</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/最大权闭合子图/">
                        <span class="tag">最大权闭合子图</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/最短路/">
                        <span class="tag">最短路</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/最近公共祖先/">
                        <span class="tag">最近公共祖先</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/期望/">
                        <span class="tag">期望</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/期望dp/">
                        <span class="tag">期望dp</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/杜教筛/">
                        <span class="tag">杜教筛</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树套树/">
                        <span class="tag">树套树</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树形dp/">
                        <span class="tag">树形dp</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树形结构/">
                        <span class="tag">树形结构</span>
                        <span class="tag is-grey">17</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树状数组/">
                        <span class="tag">树状数组</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树的直径/">
                        <span class="tag">树的直径</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树链剖分/">
                        <span class="tag">树链剖分</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/模板/">
                        <span class="tag">模板</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/欧拉函数/">
                        <span class="tag">欧拉函数</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/歌曲/">
                        <span class="tag">歌曲</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/游记/">
                        <span class="tag">游记</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/点分治/">
                        <span class="tag">点分治</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/状压dp/">
                        <span class="tag">状压dp</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/生成树/">
                        <span class="tag">生成树</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/省选/">
                        <span class="tag">省选</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/瞎搞/">
                        <span class="tag">瞎搞</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/矩阵快速幂/">
                        <span class="tag">矩阵快速幂</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/笔记/">
                        <span class="tag">笔记</span>
                        <span class="tag is-grey">10</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/线性基/">
                        <span class="tag">线性基</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/线段树/">
                        <span class="tag">线段树</span>
                        <span class="tag is-grey">20</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/线段树合并/">
                        <span class="tag">线段树合并</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/网络流/">
                        <span class="tag">网络流</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/网络流-24-题/">
                        <span class="tag">网络流 24 题</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/背包/">
                        <span class="tag">背包</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/莫比乌斯反演/">
                        <span class="tag">莫比乌斯反演</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/莫队/">
                        <span class="tag">莫队</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/虚树/">
                        <span class="tag">虚树</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/贪心/">
                        <span class="tag">贪心</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/费用流/">
                        <span class="tag">费用流</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/递推/">
                        <span class="tag">递推</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/题解/">
                        <span class="tag">题解</span>
                        <span class="tag is-grey">132</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/高斯消元/">
                        <span class="tag">高斯消元</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2332-12-31T16:00:00.000Z">2333-01-01</time></div>
                    <a href="/23330101-about-blog/" class="has-link-black-ter is-size-6">【置顶】关于这个博客的一切</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-03-20T13:12:17.000Z">2019-03-20</time></div>
                    <a href="/20190320-loj6004/" class="has-link-black-ter is-size-6">「网络流 24 题」圆桌聚餐-网络最大流</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/OI/">OI</a> / <a class="has-link-grey -link" href="/categories/OI/题解/">题解</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-03-20T12:45:09.000Z">2019-03-20</time></div>
                    <a href="/20190320-loj6003/" class="has-link-black-ter is-size-6">「网络流 24 题」魔术球-二分图最大匹配</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/OI/">OI</a> / <a class="has-link-grey -link" href="/categories/OI/题解/">题解</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-03-19T14:38:15.000Z">2019-03-19</time></div>
                    <a href="/20190319-loj6002/" class="has-link-black-ter is-size-6">「网络流 24 题」最小路径覆盖-二分图最大匹配</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/OI/">OI</a> / <a class="has-link-grey -link" href="/categories/OI/题解/">题解</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-03-19T11:43:52.000Z">2019-03-19</time></div>
                    <a href="/20190319-loj6001/" class="has-link-black-ter is-size-6">「网络流 24 题」太空飞行计划-最大权闭合子图</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/OI/">OI</a> / <a class="has-link-grey -link" href="/categories/OI/题解/">题解</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2333/01/">
                <span class="level-start">
                    <span class="level-item">一月 2333</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">三月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">17</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/02/">
                <span class="level-start">
                    <span class="level-item">二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">十月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">17</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">九月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">八月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">27</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">七月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">16</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">六月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">五月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">17</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">四月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">18</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">三月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/02/">
                <span class="level-start">
                    <span class="level-item">二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/01/">
                <span class="level-start">
                    <span class="level-item">一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/0-1分数规划/">
                        <span class="tag">0/1分数规划</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AC自动机/">
                        <span class="tag">AC自动机</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/BSGS算法/">
                        <span class="tag">BSGS算法</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CDQ分治/">
                        <span class="tag">CDQ分治</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Dinic/">
                        <span class="tag">Dinic</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Hexo/">
                        <span class="tag">Hexo</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/KMP/">
                        <span class="tag">KMP</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Link-Cut-Tree-LCT/">
                        <span class="tag">Link Cut Tree(LCT)</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Lucas定理/">
                        <span class="tag">Lucas定理</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Splay/">
                        <span class="tag">Splay</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Treap/">
                        <span class="tag">Treap</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/set/">
                        <span class="tag">set</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/wqs二分/">
                        <span class="tag">wqs二分</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/中国剩余定理/">
                        <span class="tag">中国剩余定理</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/主席树/">
                        <span class="tag">主席树</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/乱搞/">
                        <span class="tag">乱搞</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二分图/">
                        <span class="tag">二分图</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二分图匹配/">
                        <span class="tag">二分图匹配</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二分查找/">
                        <span class="tag">二分查找</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二分答案/">
                        <span class="tag">二分答案</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/作文/">
                        <span class="tag">作文</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/冬令营/">
                        <span class="tag">冬令营</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/决策单调性/">
                        <span class="tag">决策单调性</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分块/">
                        <span class="tag">分块</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分层图/">
                        <span class="tag">分层图</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/动态树/">
                        <span class="tag">动态树</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/动态规划/">
                        <span class="tag">动态规划</span>
                        <span class="tag is-grey">39</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/区间dp/">
                        <span class="tag">区间dp</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/单调栈/">
                        <span class="tag">单调栈</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/单调队列/">
                        <span class="tag">单调队列</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/可持久化主席树/">
                        <span class="tag">可持久化主席树</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/可持久化线段树/">
                        <span class="tag">可持久化线段树</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/后缀数组/">
                        <span class="tag">后缀数组</span>
                        <span class="tag is-grey">10</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/后缀自动机/">
                        <span class="tag">后缀自动机</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/启发式合并/">
                        <span class="tag">启发式合并</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/回文自动机/">
                        <span class="tag">回文自动机</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/图解/">
                        <span class="tag">图解</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/图论/">
                        <span class="tag">图论</span>
                        <span class="tag is-grey">23</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/基环树/">
                        <span class="tag">基环树</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/字符串/">
                        <span class="tag">字符串</span>
                        <span class="tag is-grey">19</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/容斥原理/">
                        <span class="tag">容斥原理</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/对偶图/">
                        <span class="tag">对偶图</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/左偏树/">
                        <span class="tag">左偏树</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/差分/">
                        <span class="tag">差分</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/平衡树/">
                        <span class="tag">平衡树</span>
                        <span class="tag is-grey">13</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/并查集/">
                        <span class="tag">并查集</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/强连通分量/">
                        <span class="tag">强连通分量</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/快速傅立叶变换/">
                        <span class="tag">快速傅立叶变换</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/快速幂/">
                        <span class="tag">快速幂</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/扩展欧几里得/">
                        <span class="tag">扩展欧几里得</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/拓扑排序/">
                        <span class="tag">拓扑排序</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/排序/">
                        <span class="tag">排序</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/摘录/">
                        <span class="tag">摘录</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数位dp/">
                        <span class="tag">数位dp</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数学/">
                        <span class="tag">数学</span>
                        <span class="tag is-grey">14</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据结构/">
                        <span class="tag">数据结构</span>
                        <span class="tag is-grey">59</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数论/">
                        <span class="tag">数论</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数论函数/">
                        <span class="tag">数论函数</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/整体二分/">
                        <span class="tag">整体二分</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/斜率优化/">
                        <span class="tag">斜率优化</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/最大公约数/">
                        <span class="tag">最大公约数</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/最大权闭合子图/">
                        <span class="tag">最大权闭合子图</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/最短路/">
                        <span class="tag">最短路</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/最近公共祖先/">
                        <span class="tag">最近公共祖先</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/期望/">
                        <span class="tag">期望</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/期望dp/">
                        <span class="tag">期望dp</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/杜教筛/">
                        <span class="tag">杜教筛</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树套树/">
                        <span class="tag">树套树</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树形dp/">
                        <span class="tag">树形dp</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树形结构/">
                        <span class="tag">树形结构</span>
                        <span class="tag is-grey">17</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树状数组/">
                        <span class="tag">树状数组</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树的直径/">
                        <span class="tag">树的直径</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树链剖分/">
                        <span class="tag">树链剖分</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/模板/">
                        <span class="tag">模板</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/欧拉函数/">
                        <span class="tag">欧拉函数</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/歌曲/">
                        <span class="tag">歌曲</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/游记/">
                        <span class="tag">游记</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/点分治/">
                        <span class="tag">点分治</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/状压dp/">
                        <span class="tag">状压dp</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/生成树/">
                        <span class="tag">生成树</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/省选/">
                        <span class="tag">省选</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/瞎搞/">
                        <span class="tag">瞎搞</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/矩阵快速幂/">
                        <span class="tag">矩阵快速幂</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/笔记/">
                        <span class="tag">笔记</span>
                        <span class="tag is-grey">10</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/线性基/">
                        <span class="tag">线性基</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/线段树/">
                        <span class="tag">线段树</span>
                        <span class="tag is-grey">20</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/线段树合并/">
                        <span class="tag">线段树合并</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/网络流/">
                        <span class="tag">网络流</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/网络流-24-题/">
                        <span class="tag">网络流 24 题</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/背包/">
                        <span class="tag">背包</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/莫比乌斯反演/">
                        <span class="tag">莫比乌斯反演</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/莫队/">
                        <span class="tag">莫队</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/虚树/">
                        <span class="tag">虚树</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/贪心/">
                        <span class="tag">贪心</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/费用流/">
                        <span class="tag">费用流</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/递推/">
                        <span class="tag">递推</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/题解/">
                        <span class="tag">题解</span>
                        <span class="tag is-grey">132</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/高斯消元/">
                        <span class="tag">高斯消元</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="https://www.chenqiqian.com">
                
                    <img src="/images/avatar_1.png" alt="Treap学习笔记" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 Chen Qiqian&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        href="http://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                <br>
                <span id="busuanzi_container_site_uv">
                共<span id="busuanzi_value_site_uv">0</span>个访客
                </span>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="http://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    

    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>